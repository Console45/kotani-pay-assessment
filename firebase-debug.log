[debug] [2022-10-08T11:38:32.023Z] ----------------------------------------------------------------------
[debug] [2022-10-08T11:38:32.024Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions
[debug] [2022-10-08T11:38:32.024Z] CLI Version:   11.14.1
[debug] [2022-10-08T11:38:32.024Z] Platform:      darwin
[debug] [2022-10-08T11:38:32.024Z] Node Version:  v16.15.1
[debug] [2022-10-08T11:38:32.025Z] Time:          Sat Oct 08 2022 11:38:32 GMT+0000 (Greenwich Mean Time)
[debug] [2022-10-08T11:38:32.026Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-10-08T11:38:32.068Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-10-08T11:38:32.069Z] > authorizing via signed-in user (cosmosappiah029@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2022-10-08T11:38:32.083Z] [hub] writing locator at /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/hub-kotanipay-assessment.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage, eventarc {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage, eventarc\u001b[22m"}}
[info] ✔  functions: Using node@16 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Using node@16 from host."}}
[debug] [2022-10-08T11:38:32.181Z] defaultcredentials: writing to file /Users/cosmos/.config/firebase/cosmosappiah029_gmail_com_application_default_credentials.json
[debug] [2022-10-08T11:38:32.182Z] Setting GAC to /Users/cosmos/.config/firebase/cosmosappiah029_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/cosmos/.config/firebase/cosmosappiah029_gmail_com_application_default_credentials.json"}}
[debug] [2022-10-08T11:38:32.183Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kotanipay-assessment/adminSdkConfig [none]
[debug] [2022-10-08T11:38:32.817Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kotanipay-assessment/adminSdkConfig 200
[debug] [2022-10-08T11:38:32.817Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kotanipay-assessment/adminSdkConfig {"projectId":"kotanipay-assessment","storageBucket":"kotanipay-assessment.appspot.com","locationId":"us-central"}
[debug] [2022-10-08T11:38:32.841Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-10-08T11:38:32.841Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-10-08T11:38:32.841Z] Starting Emulator UI with command {"binary":"node","args":["/Users/cosmos/.cache/firebase/emulators/ui-v1.10.0/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/cosmos/.cache/firebase/emulators/ui-v1.10.0/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-10-08T11:38:32.925Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "/Users/cosmos/Projects/kotani-pay-assessment/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/cosmos/Projects/kotani-pay-assessment/functions\" for Cloud Functions..."}}
[debug] [2022-10-08T11:38:33.106Z] Validating nodejs source
[debug] [2022-10-08T11:38:34.409Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:38:34.409Z] Building nodejs source
[debug] [2022-10-08T11:38:34.409Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:38:34.411Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:38:34.519Z] Serving at port 9005

[debug] [2022-10-08T11:38:34.615Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:38:34.619Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[info] ✔  functions[us-central1-helloWorld]: http function initialized (http://localhost:5001/kotanipay-assessment/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/kotanipay-assessment/us-central1/helloWorld)."}}
[info] ✔  functions[us-central1-api_v2]: http function initialized (http://localhost:5001/kotanipay-assessment/us-central1/api_v2). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/kotanipay-assessment/us-central1/api_v2)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-10-08T11:38:37.760Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:38:37.765Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:38:37.766Z] Accepted request GET /kotanipay-assessment/us-central1/api_v2 --> us-central1-api_v2
[debug] [2022-10-08T11:38:37.795Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:38:37.795Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2, mapping to path=/"}}
[debug] [2022-10-08T11:38:38.006Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:38:38.007Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:38:39.102Z] [runtime-status] [55694] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.102Z] [runtime-status] [55694] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.102Z] [runtime-status] [55694] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:38:39.102Z] [runtime-status] [55694] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.124Z] [runtime-status] [55694] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:38:39.124Z] [runtime-status] [55694] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:38:39.124Z] [runtime-status] [55694] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.125Z] [runtime-status] [55694] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.125Z] [runtime-status] [55694] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:38:39.125Z] [runtime-status] [55694] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:38:39.257Z] [runtime-status] [55694] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:38:39.258Z] [runtime-status] [55694] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_a21112b00ad4ce32.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55694] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_a21112b00ad4ce32.sock"}}
[debug] [2022-10-08T11:38:39.522Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:38:39.523Z] [worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[debug] [2022-10-08T11:38:39.532Z] [worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: IDLE"}}
[debug] [2022-10-08T11:38:39.533Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api_v2" in 3.688375ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Finished \"api_v2\" in 3.688375ms"}}
[debug] [2022-10-08T11:39:20.078Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:39:20.082Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:39:20.082Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:39:20.089Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:39:20.091Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:39:20.092Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:39:20.093Z] [worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24 {"user":"/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24"}}
[info] >      .auth() {"user":"    .auth()","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     .auth()"}}
[info] >       ^ {"user":"     ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m      ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'auth') {"user":"TypeError: Cannot read properties of undefined (reading 'auth')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'auth')"}}
[info] >      at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6) {"user":"    at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-08T11:39:20.120Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:39:20.120Z] [worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: exited"}}
[debug] [2022-10-08T11:39:20.120Z] [worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1b8f8526-79af-49b1-b746-d2d069e772e9]: FINISHED"}}
[debug] [2022-10-08T11:39:43.798Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers"}}
[debug] [2022-10-08T11:39:44.804Z] Validating nodejs source
[debug] [2022-10-08T11:39:46.241Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:39:46.241Z] Building nodejs source
[debug] [2022-10-08T11:39:46.241Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:39:46.243Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:39:46.349Z] Serving at port 9005

[debug] [2022-10-08T11:39:46.461Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:39:46.463Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:39:50.061Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers"}}
[debug] [2022-10-08T11:39:51.067Z] Validating nodejs source
[debug] [2022-10-08T11:39:52.421Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:39:52.421Z] Building nodejs source
[debug] [2022-10-08T11:39:52.421Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:39:52.422Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:39:52.527Z] Serving at port 9005

[debug] [2022-10-08T11:39:52.624Z] {
  apiKey: 'AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s',
  authDomain: 'kotanipay-assessment.firebaseapp.com',
  projectId: 'kotanipay-assessment',
  storageBucket: 'kotanipay-assessment.appspot.com',
  messagingSenderId: '78856096386',
  appId: '1:78856096386:web:7d17e6c1794de779d4c29b'
}

[debug] [2022-10-08T11:39:52.626Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:39:52.629Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:39:56.418Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:39:56.419Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:39:56.420Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:39:56.428Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:39:56.429Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:39:56.429Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:39:56.446Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:39:56.446Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:39:57.191Z] [runtime-status] [55772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.191Z] [runtime-status] [55772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.191Z] [runtime-status] [55772] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:39:57.191Z] [runtime-status] [55772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.207Z] [runtime-status] [55772] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:39:57.207Z] [runtime-status] [55772] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:39:57.207Z] [runtime-status] [55772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.208Z] [runtime-status] [55772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.208Z] [runtime-status] [55772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:39:57.208Z] [runtime-status] [55772] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    apiKey: 'AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s', {"user":"  apiKey: 'AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   apiKey: 'AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s',"}}
[info] >    authDomain: 'kotanipay-assessment.firebaseapp.com', {"user":"  authDomain: 'kotanipay-assessment.firebaseapp.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   authDomain: 'kotanipay-assessment.firebaseapp.com',"}}
[info] >    projectId: 'kotanipay-assessment', {"user":"  projectId: 'kotanipay-assessment',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   projectId: 'kotanipay-assessment',"}}
[info] >    storageBucket: 'kotanipay-assessment.appspot.com', {"user":"  storageBucket: 'kotanipay-assessment.appspot.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   storageBucket: 'kotanipay-assessment.appspot.com',"}}
[info] >    messagingSenderId: '78856096386', {"user":"  messagingSenderId: '78856096386',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   messagingSenderId: '78856096386',"}}
[info] >    appId: '1:78856096386:web:7d17e6c1794de779d4c29b' {"user":"  appId: '1:78856096386:web:7d17e6c1794de779d4c29b'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   appId: '1:78856096386:web:7d17e6c1794de779d4c29b'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:39:57.377Z] [runtime-status] [55772] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:39:57.377Z] [runtime-status] [55772] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_502f6b0662523614.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [55772] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_502f6b0662523614.sock"}}
[debug] [2022-10-08T11:39:57.479Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:39:57.479Z] [worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24 {"user":"/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24"}}
[info] >      .auth() {"user":"    .auth()","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     .auth()"}}
[info] >       ^ {"user":"     ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m      ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'auth') {"user":"TypeError: Cannot read properties of undefined (reading 'auth')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'auth')"}}
[info] >      at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6) {"user":"    at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-08T11:39:57.489Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:39:57.489Z] [worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: exited"}}
[debug] [2022-10-08T11:39:57.489Z] [worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-c2fbc11d-2ca3-45a0-b252-320648243177]: FINISHED"}}
[debug] [2022-10-08T11:40:03.340Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers"}}
[debug] [2022-10-08T11:40:04.358Z] Validating nodejs source
[debug] [2022-10-08T11:40:07.130Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:40:07.131Z] Building nodejs source
[debug] [2022-10-08T11:40:07.131Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:40:07.132Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:40:07.138Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:40:07.138Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:40:07.138Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:40:07.140Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:40:07.140Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:40:07.140Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:40:07.144Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:40:07.144Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:40:07.243Z] Serving at port 9005

[debug] [2022-10-08T11:40:07.356Z] <ref *1> {
  __esModule: true,
  initializeApp: [Function: initializeAppCompat],
  app: [Function: app] { App: [Function: FirebaseAppImpl] },
  registerVersion: [Function: registerVersion],
  setLogLevel: [Function: setLogLevel],
  onLog: [Function: onLog],
  apps: [Getter],
  SDK_VERSION: '9.11.0',
  INTERNAL: {
    registerComponent: [Function: registerComponentCompat],
    removeApp: [Function: removeApp],
    useAsService: [Function: useAsService],
    modularAPIs: {
      FirebaseError: [Getter],
      SDK_VERSION: '9.11.0',
      _DEFAULT_ENTRY_NAME: '[DEFAULT]',
      _addComponent: [Function: _addComponent],
      _addOrOverwriteComponent: [Function: _addOrOverwriteComponent],
      _apps: [Map],
      _clearComponents: [Function: _clearComponents],
      _components: [Map],
      _getProvider: [Function: _getProvider],
      _registerComponent: [Function: _registerComponent],
      _removeServiceInstance: [Function: _removeServiceInstance],
      deleteApp: [Function: deleteApp],
      getApp: [Function: getApp],
      getApps: [Function: getApps],
      initializeApp: [Function: initializeApp],
      onLog: [Function: onLog],
      registerVersion: [Function: registerVersion],
      setLogLevel: [Function: setLogLevel]
    },
    createFirebaseNamespace: [Function: createFirebaseNamespace],
    extendNamespace: [Function: extendNamespace],
    createSubscribe: [Function: createSubscribe],
    ErrorFactory: [Function: ErrorFactory],
    deepExtend: [Function: deepExtend]
  },
  default: [Circular *1],
  auth: [Function: serviceNamespace] {
    ActionCodeInfo: { Operation: [Object] },
    EmailAuthProvider: [Function: EmailAuthProvider] {
      credential: [Function (anonymous)],
      credentialWithLink: [Function (anonymous)],
      PROVIDER_ID: 'password',
      EMAIL_PASSWORD_SIGN_IN_METHOD: 'password',
      EMAIL_LINK_SIGN_IN_METHOD: 'emailLink'
    },
    FacebookAuthProvider: [Function: FacebookAuthProvider] {
      credential: [Function (anonymous)],
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      credentialFromTaggedObject: [Function (anonymous)],
      FACEBOOK_SIGN_IN_METHOD: 'facebook.com',
      PROVIDER_ID: 'facebook.com'
    },
    GithubAuthProvider: [Function: GithubAuthProvider] {
      credential: [Function (anonymous)],
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      credentialFromTaggedObject: [Function (anonymous)],
      GITHUB_SIGN_IN_METHOD: 'github.com',
      PROVIDER_ID: 'github.com'
    },
    GoogleAuthProvider: [Function: GoogleAuthProvider] {
      credential: [Function (anonymous)],
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      credentialFromTaggedObject: [Function (anonymous)],
      GOOGLE_SIGN_IN_METHOD: 'google.com',
      PROVIDER_ID: 'google.com'
    },
    OAuthProvider: [Function: OAuthProvider] {
      credentialFromJSON: [Function (anonymous)],
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      oauthCredentialFromTaggedObject: [Function (anonymous)]
    },
    SAMLAuthProvider: [Function: SAMLAuthProvider] {
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      credentialFromJSON: [Function (anonymous)],
      samlCredentialFromTaggedObject: [Function (anonymous)]
    },
    PhoneAuthProvider: [Function: PhoneAuthProvider] {
      credential: [Function (anonymous)],
      PHONE_SIGN_IN_METHOD: undefined,
      PROVIDER_ID: undefined
    },
    PhoneMultiFactorGenerator: [Function: PhoneMultiFactorGenerator] {
      assertion: [Function (anonymous)]
    },
    RecaptchaVerifier: [Function: RecaptchaVerifier],
    TwitterAuthProvider: [Function: TwitterAuthProvider] {
      credential: [Function (anonymous)],
      credentialFromResult: [Function (anonymous)],
      credentialFromError: [Function (anonymous)],
      credentialFromTaggedObject: [Function (anonymous)],
      TWITTER_SIGN_IN_METHOD: 'twitter.com',
      PROVIDER_ID: 'twitter.com'
    },
    Auth: [Function: Auth] { Persistence: [Object] },
    AuthCredential: [Function: AuthCredential],
    Error: [Function: FirebaseError]
  },
  firestore: [Function: serviceNamespace] {
    Firestore: [class Firestore],
    GeoPoint: [class GeoPoint],
    Timestamp: [class Timestamp],
    Blob: [class Blob],
    Transaction: [class Transaction],
    WriteBatch: [class WriteBatch],
    DocumentReference: [class DocumentReference],
    DocumentSnapshot: [class DocumentSnapshot],
    Query: [class Query],
    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],
    QuerySnapshot: [class QuerySnapshot],
    CollectionReference: [class CollectionReference extends Query],
    FieldPath: [class FieldPath],
    FieldValue: [class FieldValue],
    setLogLevel: [Function: setLogLevel],
    CACHE_SIZE_UNLIMITED: -1
  }
}

[debug] [2022-10-08T11:40:07.359Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:40:07.361Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:40:07.364Z] [worker-pool] Shutting down IDLE worker (us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api_v2)"}}
[debug] [2022-10-08T11:40:07.364Z] [worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: FINISHING"}}
[debug] [2022-10-08T11:40:07.365Z] [worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: exited"}}
[debug] [2022-10-08T11:40:07.366Z] [worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e30fc7ca-97db-46ea-91d5-3a983c9b15b8]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (/Users/cosmos/.config/yarn/global/node_modules/firebase-tools/lib/emulator/functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-08T11:40:37.206Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:41:23.533Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:41:23.538Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:41:23.538Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:41:23.572Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:41:23.573Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:41:23.573Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:41:23.587Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:41:23.588Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:41:24.708Z] [runtime-status] [56056] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.709Z] [runtime-status] [56056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.710Z] [runtime-status] [56056] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:41:24.711Z] [runtime-status] [56056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.745Z] [runtime-status] [56056] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:41:24.746Z] [runtime-status] [56056] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:41:24.746Z] [runtime-status] [56056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.746Z] [runtime-status] [56056] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.746Z] [runtime-status] [56056] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:41:24.747Z] [runtime-status] [56056] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  <ref *1> { {"user":"<ref *1> {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m <ref *1> {"}}
[info] >    __esModule: true, {"user":"  __esModule: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   __esModule: true,"}}
[info] >    initializeApp: [Function: initializeAppCompat], {"user":"  initializeApp: [Function: initializeAppCompat],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   initializeApp: [Function: initializeAppCompat],"}}
[info] >    app: [Function: app] { App: [Function: FirebaseAppImpl] }, {"user":"  app: [Function: app] { App: [Function: FirebaseAppImpl] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   app: [Function: app] { App: [Function: FirebaseAppImpl] },"}}
[info] >    registerVersion: [Function: registerVersion], {"user":"  registerVersion: [Function: registerVersion],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   registerVersion: [Function: registerVersion],"}}
[info] >    setLogLevel: [Function: setLogLevel], {"user":"  setLogLevel: [Function: setLogLevel],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   setLogLevel: [Function: setLogLevel],"}}
[info] >    onLog: [Function: onLog], {"user":"  onLog: [Function: onLog],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   onLog: [Function: onLog],"}}
[info] >    apps: [Getter], {"user":"  apps: [Getter],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   apps: [Getter],"}}
[info] >    SDK_VERSION: '9.11.0', {"user":"  SDK_VERSION: '9.11.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   SDK_VERSION: '9.11.0',"}}
[info] >    INTERNAL: { {"user":"  INTERNAL: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   INTERNAL: {"}}
[info] >      registerComponent: [Function: registerComponentCompat], {"user":"    registerComponent: [Function: registerComponentCompat],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     registerComponent: [Function: registerComponentCompat],"}}
[info] >      removeApp: [Function: removeApp], {"user":"    removeApp: [Function: removeApp],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     removeApp: [Function: removeApp],"}}
[info] >      useAsService: [Function: useAsService], {"user":"    useAsService: [Function: useAsService],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     useAsService: [Function: useAsService],"}}
[info] >      modularAPIs: { {"user":"    modularAPIs: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     modularAPIs: {"}}
[info] >        FirebaseError: [Getter], {"user":"      FirebaseError: [Getter],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       FirebaseError: [Getter],"}}
[info] >        SDK_VERSION: '9.11.0', {"user":"      SDK_VERSION: '9.11.0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       SDK_VERSION: '9.11.0',"}}
[info] >        _DEFAULT_ENTRY_NAME: '[DEFAULT]', {"user":"      _DEFAULT_ENTRY_NAME: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _DEFAULT_ENTRY_NAME: '[DEFAULT]',"}}
[info] >        _addComponent: [Function: _addComponent], {"user":"      _addComponent: [Function: _addComponent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _addComponent: [Function: _addComponent],"}}
[info] >        _addOrOverwriteComponent: [Function: _addOrOverwriteComponent], {"user":"      _addOrOverwriteComponent: [Function: _addOrOverwriteComponent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _addOrOverwriteComponent: [Function: _addOrOverwriteComponent],"}}
[info] >        _apps: [Map], {"user":"      _apps: [Map],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _apps: [Map],"}}
[info] >        _clearComponents: [Function: _clearComponents], {"user":"      _clearComponents: [Function: _clearComponents],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _clearComponents: [Function: _clearComponents],"}}
[info] >        _components: [Map], {"user":"      _components: [Map],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _components: [Map],"}}
[info] >        _getProvider: [Function: _getProvider], {"user":"      _getProvider: [Function: _getProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _getProvider: [Function: _getProvider],"}}
[info] >        _registerComponent: [Function: _registerComponent], {"user":"      _registerComponent: [Function: _registerComponent],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _registerComponent: [Function: _registerComponent],"}}
[info] >        _removeServiceInstance: [Function: _removeServiceInstance], {"user":"      _removeServiceInstance: [Function: _removeServiceInstance],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _removeServiceInstance: [Function: _removeServiceInstance],"}}
[info] >        deleteApp: [Function: deleteApp], {"user":"      deleteApp: [Function: deleteApp],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       deleteApp: [Function: deleteApp],"}}
[info] >        getApp: [Function: getApp], {"user":"      getApp: [Function: getApp],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       getApp: [Function: getApp],"}}
[info] >        getApps: [Function: getApps], {"user":"      getApps: [Function: getApps],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       getApps: [Function: getApps],"}}
[info] >        initializeApp: [Function: initializeApp], {"user":"      initializeApp: [Function: initializeApp],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       initializeApp: [Function: initializeApp],"}}
[info] >        onLog: [Function: onLog], {"user":"      onLog: [Function: onLog],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       onLog: [Function: onLog],"}}
[info] >        registerVersion: [Function: registerVersion], {"user":"      registerVersion: [Function: registerVersion],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       registerVersion: [Function: registerVersion],"}}
[info] >        setLogLevel: [Function: setLogLevel] {"user":"      setLogLevel: [Function: setLogLevel]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       setLogLevel: [Function: setLogLevel]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      createFirebaseNamespace: [Function: createFirebaseNamespace], {"user":"    createFirebaseNamespace: [Function: createFirebaseNamespace],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     createFirebaseNamespace: [Function: createFirebaseNamespace],"}}
[info] >      extendNamespace: [Function: extendNamespace], {"user":"    extendNamespace: [Function: extendNamespace],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     extendNamespace: [Function: extendNamespace],"}}
[info] >      createSubscribe: [Function: createSubscribe], {"user":"    createSubscribe: [Function: createSubscribe],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     createSubscribe: [Function: createSubscribe],"}}
[info] >      ErrorFactory: [Function: ErrorFactory], {"user":"    ErrorFactory: [Function: ErrorFactory],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     ErrorFactory: [Function: ErrorFactory],"}}
[info] >      deepExtend: [Function: deepExtend] {"user":"    deepExtend: [Function: deepExtend]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     deepExtend: [Function: deepExtend]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    default: [Circular *1], {"user":"  default: [Circular *1],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   default: [Circular *1],"}}
[info] >    auth: [Function: serviceNamespace] { {"user":"  auth: [Function: serviceNamespace] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   auth: [Function: serviceNamespace] {"}}
[info] >      ActionCodeInfo: { Operation: [Object] }, {"user":"    ActionCodeInfo: { Operation: [Object] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     ActionCodeInfo: { Operation: [Object] },"}}
[info] >      EmailAuthProvider: [Function: EmailAuthProvider] { {"user":"    EmailAuthProvider: [Function: EmailAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     EmailAuthProvider: [Function: EmailAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        credentialWithLink: [Function (anonymous)], {"user":"      credentialWithLink: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialWithLink: [Function (anonymous)],"}}
[info] >        PROVIDER_ID: 'password', {"user":"      PROVIDER_ID: 'password',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: 'password',"}}
[info] >        EMAIL_PASSWORD_SIGN_IN_METHOD: 'password', {"user":"      EMAIL_PASSWORD_SIGN_IN_METHOD: 'password',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       EMAIL_PASSWORD_SIGN_IN_METHOD: 'password',"}}
[info] >        EMAIL_LINK_SIGN_IN_METHOD: 'emailLink' {"user":"      EMAIL_LINK_SIGN_IN_METHOD: 'emailLink'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       EMAIL_LINK_SIGN_IN_METHOD: 'emailLink'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      FacebookAuthProvider: [Function: FacebookAuthProvider] { {"user":"    FacebookAuthProvider: [Function: FacebookAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     FacebookAuthProvider: [Function: FacebookAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        credentialFromTaggedObject: [Function (anonymous)], {"user":"      credentialFromTaggedObject: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromTaggedObject: [Function (anonymous)],"}}
[info] >        FACEBOOK_SIGN_IN_METHOD: 'facebook.com', {"user":"      FACEBOOK_SIGN_IN_METHOD: 'facebook.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       FACEBOOK_SIGN_IN_METHOD: 'facebook.com',"}}
[info] >        PROVIDER_ID: 'facebook.com' {"user":"      PROVIDER_ID: 'facebook.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: 'facebook.com'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      GithubAuthProvider: [Function: GithubAuthProvider] { {"user":"    GithubAuthProvider: [Function: GithubAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     GithubAuthProvider: [Function: GithubAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        credentialFromTaggedObject: [Function (anonymous)], {"user":"      credentialFromTaggedObject: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromTaggedObject: [Function (anonymous)],"}}
[info] >        GITHUB_SIGN_IN_METHOD: 'github.com', {"user":"      GITHUB_SIGN_IN_METHOD: 'github.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       GITHUB_SIGN_IN_METHOD: 'github.com',"}}
[info] >        PROVIDER_ID: 'github.com' {"user":"      PROVIDER_ID: 'github.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: 'github.com'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      GoogleAuthProvider: [Function: GoogleAuthProvider] { {"user":"    GoogleAuthProvider: [Function: GoogleAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     GoogleAuthProvider: [Function: GoogleAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        credentialFromTaggedObject: [Function (anonymous)], {"user":"      credentialFromTaggedObject: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromTaggedObject: [Function (anonymous)],"}}
[info] >        GOOGLE_SIGN_IN_METHOD: 'google.com', {"user":"      GOOGLE_SIGN_IN_METHOD: 'google.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       GOOGLE_SIGN_IN_METHOD: 'google.com',"}}
[info] >        PROVIDER_ID: 'google.com' {"user":"      PROVIDER_ID: 'google.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: 'google.com'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      OAuthProvider: [Function: OAuthProvider] { {"user":"    OAuthProvider: [Function: OAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     OAuthProvider: [Function: OAuthProvider] {"}}
[info] >        credentialFromJSON: [Function (anonymous)], {"user":"      credentialFromJSON: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromJSON: [Function (anonymous)],"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        oauthCredentialFromTaggedObject: [Function (anonymous)] {"user":"      oauthCredentialFromTaggedObject: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       oauthCredentialFromTaggedObject: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      SAMLAuthProvider: [Function: SAMLAuthProvider] { {"user":"    SAMLAuthProvider: [Function: SAMLAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     SAMLAuthProvider: [Function: SAMLAuthProvider] {"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        credentialFromJSON: [Function (anonymous)], {"user":"      credentialFromJSON: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromJSON: [Function (anonymous)],"}}
[info] >        samlCredentialFromTaggedObject: [Function (anonymous)] {"user":"      samlCredentialFromTaggedObject: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       samlCredentialFromTaggedObject: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      PhoneAuthProvider: [Function: PhoneAuthProvider] { {"user":"    PhoneAuthProvider: [Function: PhoneAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     PhoneAuthProvider: [Function: PhoneAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        PHONE_SIGN_IN_METHOD: undefined, {"user":"      PHONE_SIGN_IN_METHOD: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PHONE_SIGN_IN_METHOD: undefined,"}}
[info] >        PROVIDER_ID: undefined {"user":"      PROVIDER_ID: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: undefined"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      PhoneMultiFactorGenerator: [Function: PhoneMultiFactorGenerator] { {"user":"    PhoneMultiFactorGenerator: [Function: PhoneMultiFactorGenerator] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     PhoneMultiFactorGenerator: [Function: PhoneMultiFactorGenerator] {"}}
[info] >        assertion: [Function (anonymous)] {"user":"      assertion: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       assertion: [Function (anonymous)]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      RecaptchaVerifier: [Function: RecaptchaVerifier], {"user":"    RecaptchaVerifier: [Function: RecaptchaVerifier],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     RecaptchaVerifier: [Function: RecaptchaVerifier],"}}
[info] >      TwitterAuthProvider: [Function: TwitterAuthProvider] { {"user":"    TwitterAuthProvider: [Function: TwitterAuthProvider] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     TwitterAuthProvider: [Function: TwitterAuthProvider] {"}}
[info] >        credential: [Function (anonymous)], {"user":"      credential: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credential: [Function (anonymous)],"}}
[info] >        credentialFromResult: [Function (anonymous)], {"user":"      credentialFromResult: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromResult: [Function (anonymous)],"}}
[info] >        credentialFromError: [Function (anonymous)], {"user":"      credentialFromError: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromError: [Function (anonymous)],"}}
[info] >        credentialFromTaggedObject: [Function (anonymous)], {"user":"      credentialFromTaggedObject: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       credentialFromTaggedObject: [Function (anonymous)],"}}
[info] >        TWITTER_SIGN_IN_METHOD: 'twitter.com', {"user":"      TWITTER_SIGN_IN_METHOD: 'twitter.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       TWITTER_SIGN_IN_METHOD: 'twitter.com',"}}
[info] >        PROVIDER_ID: 'twitter.com' {"user":"      PROVIDER_ID: 'twitter.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       PROVIDER_ID: 'twitter.com'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      Auth: [Function: Auth] { Persistence: [Object] }, {"user":"    Auth: [Function: Auth] { Persistence: [Object] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Auth: [Function: Auth] { Persistence: [Object] },"}}
[info] >      AuthCredential: [Function: AuthCredential], {"user":"    AuthCredential: [Function: AuthCredential],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     AuthCredential: [Function: AuthCredential],"}}
[info] >      Error: [Function: FirebaseError] {"user":"    Error: [Function: FirebaseError]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Error: [Function: FirebaseError]"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    firestore: [Function: serviceNamespace] { {"user":"  firestore: [Function: serviceNamespace] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   firestore: [Function: serviceNamespace] {"}}
[info] >      Firestore: [class Firestore], {"user":"    Firestore: [class Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Firestore: [class Firestore],"}}
[info] >      GeoPoint: [class GeoPoint], {"user":"    GeoPoint: [class GeoPoint],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     GeoPoint: [class GeoPoint],"}}
[info] >      Timestamp: [class Timestamp], {"user":"    Timestamp: [class Timestamp],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Timestamp: [class Timestamp],"}}
[info] >      Blob: [class Blob], {"user":"    Blob: [class Blob],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Blob: [class Blob],"}}
[info] >      Transaction: [class Transaction], {"user":"    Transaction: [class Transaction],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Transaction: [class Transaction],"}}
[info] >      WriteBatch: [class WriteBatch], {"user":"    WriteBatch: [class WriteBatch],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     WriteBatch: [class WriteBatch],"}}
[info] >      DocumentReference: [class DocumentReference], {"user":"    DocumentReference: [class DocumentReference],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     DocumentReference: [class DocumentReference],"}}
[info] >      DocumentSnapshot: [class DocumentSnapshot], {"user":"    DocumentSnapshot: [class DocumentSnapshot],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     DocumentSnapshot: [class DocumentSnapshot],"}}
[info] >      Query: [class Query], {"user":"    Query: [class Query],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     Query: [class Query],"}}
[info] >      QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot], {"user":"    QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     QueryDocumentSnapshot: [class QueryDocumentSnapshot extends DocumentSnapshot],"}}
[info] >      QuerySnapshot: [class QuerySnapshot], {"user":"    QuerySnapshot: [class QuerySnapshot],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     QuerySnapshot: [class QuerySnapshot],"}}
[info] >      CollectionReference: [class CollectionReference extends Query], {"user":"    CollectionReference: [class CollectionReference extends Query],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     CollectionReference: [class CollectionReference extends Query],"}}
[info] >      FieldPath: [class FieldPath], {"user":"    FieldPath: [class FieldPath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     FieldPath: [class FieldPath],"}}
[info] >      FieldValue: [class FieldValue], {"user":"    FieldValue: [class FieldValue],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     FieldValue: [class FieldValue],"}}
[info] >      setLogLevel: [Function: setLogLevel], {"user":"    setLogLevel: [Function: setLogLevel],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     setLogLevel: [Function: setLogLevel],"}}
[info] >      CACHE_SIZE_UNLIMITED: -1 {"user":"    CACHE_SIZE_UNLIMITED: -1","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     CACHE_SIZE_UNLIMITED: -1"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:41:24.966Z] [runtime-status] [56056] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:41:24.966Z] [runtime-status] [56056] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_cd9c887b0de00204.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56056] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_cd9c887b0de00204.sock"}}
[debug] [2022-10-08T11:41:24.973Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:41:24.974Z] [worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24 {"user":"/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24"}}
[info] >      .auth() {"user":"    .auth()","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     .auth()"}}
[info] >       ^ {"user":"     ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m      ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  TypeError: Cannot read properties of undefined (reading 'auth') {"user":"TypeError: Cannot read properties of undefined (reading 'auth')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m TypeError: Cannot read properties of undefined (reading 'auth')"}}
[info] >      at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6) {"user":"    at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at createUser (/Users/cosmos/Projects/kotani-pay-assessment/functions/index.js:24:6)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5) {"user":"    at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at expressInit (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/middleware/init.js:40:5)"}}
[info] >      at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[debug] [2022-10-08T11:41:24.987Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:41:24.987Z] [worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: exited"}}
[debug] [2022-10-08T11:41:24.987Z] [worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-2ec9c9e4-9c30-49a7-bce8-285fe6b6b229]: FINISHED"}}
[debug] [2022-10-08T11:41:34.581Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers"}}
[debug] [2022-10-08T11:41:35.587Z] Validating nodejs source
[debug] [2022-10-08T11:41:36.960Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:41:36.961Z] Building nodejs source
[debug] [2022-10-08T11:41:36.961Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:41:36.962Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:41:37.065Z] Serving at port 9005

[debug] [2022-10-08T11:41:37.162Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:41:37.164Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:41:54.587Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/firebase.js changed, reloading triggers"}}
[debug] [2022-10-08T11:41:55.598Z] Validating nodejs source
[debug] [2022-10-08T11:42:03.265Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:42:03.266Z] Building nodejs source
[debug] [2022-10-08T11:42:03.266Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:42:03.267Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:42:03.267Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:42:03.380Z] Serving at port 9005

[debug] [2022-10-08T11:42:03.484Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:42:03.486Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:42:04.271Z] Validating nodejs source
[debug] [2022-10-08T11:42:05.660Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:42:05.662Z] Building nodejs source
[debug] [2022-10-08T11:42:05.662Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:42:05.663Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:42:05.752Z] Serving at port 9005

[debug] [2022-10-08T11:42:05.828Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:42:05.830Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:42:07.497Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:42:07.498Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:42:07.498Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:42:07.508Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:42:07.509Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:42:07.509Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:42:07.515Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:42:07.515Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:42:08.245Z] [runtime-status] [56114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.245Z] [runtime-status] [56114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.245Z] [runtime-status] [56114] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:42:08.246Z] [runtime-status] [56114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.262Z] [runtime-status] [56114] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:42:08.262Z] [runtime-status] [56114] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:42:08.263Z] [runtime-status] [56114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.263Z] [runtime-status] [56114] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.264Z] [runtime-status] [56114] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:42:08.265Z] [runtime-status] [56114] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:42:08.355Z] [runtime-status] [56114] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:42:08.355Z] [runtime-status] [56114] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_536e48fa55e515c3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56114] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_536e48fa55e515c3.sock"}}
[debug] [2022-10-08T11:42:08.463Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:42:08.463Z] [worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507 {"user":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507"}}
[info] >          return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams)); {"user":"        return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams));","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams));"}}
[info] >                                                        ^ {"user":"                                                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseError: Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation). {"user":"FirebaseError: Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation).","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseError: Firebase: This operation is restricted to administrators only. (auth/admin-restricted-operation)."}}
[info] >      at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55) {"user":"    at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55)"}}
[info] >      at _fail (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:478:31) {"user":"    at _fail (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:478:31)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _fail (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:478:31)"}}
[info] >      at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1043:29 {"user":"    at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1043:29","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1043:29"}}
[info] >      at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27) {"user":"    at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27)"}}
[info] >      at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57) {"user":"    at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57)"}}
[info] >      at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62) {"user":"    at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'auth/admin-restricted-operation', {"user":"  code: 'auth/admin-restricted-operation',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'auth/admin-restricted-operation',"}}
[info] >    customData: {} {"user":"  customData: {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: {}"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:42:09.494Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:42:09.495Z] [worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: exited"}}
[debug] [2022-10-08T11:42:09.495Z] [worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e281ffaa-f067-4eb3-bea1-991c7ec13224]: FINISHED"}}
[debug] [2022-10-08T11:43:10.808Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:43:10.809Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:43:10.810Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:43:10.821Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:43:10.821Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:43:10.822Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:43:10.833Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:43:10.834Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:43:11.609Z] [runtime-status] [56185] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.609Z] [runtime-status] [56185] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.614Z] [runtime-status] [56185] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:43:11.614Z] [runtime-status] [56185] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.635Z] [runtime-status] [56185] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:43:11.635Z] [runtime-status] [56185] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:43:11.636Z] [runtime-status] [56185] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.636Z] [runtime-status] [56185] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.636Z] [runtime-status] [56185] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:43:11.636Z] [runtime-status] [56185] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:43:11.782Z] [runtime-status] [56185] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:43:11.782Z] [runtime-status] [56185] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_d3253539bf9df7b9.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56185] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_d3253539bf9df7b9.sock"}}
[debug] [2022-10-08T11:43:11.852Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:43:11.852Z] [worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    operationType: 'signIn', {"user":"  operationType: 'signIn',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   operationType: 'signIn',"}}
[info] >    credential: null, {"user":"  credential: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   credential: null,"}}
[info] >    additionalUserInfo: GenericAdditionalUserInfo { {"user":"  additionalUserInfo: GenericAdditionalUserInfo {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   additionalUserInfo: GenericAdditionalUserInfo {"}}
[info] >      isNewUser: true, {"user":"    isNewUser: true,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     isNewUser: true,"}}
[info] >      providerId: 'password', {"user":"    providerId: 'password',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     providerId: 'password',"}}
[info] >      profile: {} {"user":"    profile: {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     profile: {}"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    user: User { {"user":"  user: User {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   user: User {"}}
[info] >      _delegate: UserImpl { {"user":"    _delegate: UserImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _delegate: UserImpl {"}}
[info] >        providerId: 'firebase', {"user":"      providerId: 'firebase',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       providerId: 'firebase',"}}
[info] >        proactiveRefresh: [ProactiveRefresh], {"user":"      proactiveRefresh: [ProactiveRefresh],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       proactiveRefresh: [ProactiveRefresh],"}}
[info] >        reloadUserInfo: null, {"user":"      reloadUserInfo: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       reloadUserInfo: null,"}}
[info] >        reloadListener: [Function (anonymous)], {"user":"      reloadListener: [Function (anonymous)],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       reloadListener: [Function (anonymous)],"}}
[info] >        uid: 'YKn65j0lY3NuKPp7ch0sr5AEDei2', {"user":"      uid: 'YKn65j0lY3NuKPp7ch0sr5AEDei2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       uid: 'YKn65j0lY3NuKPp7ch0sr5AEDei2',"}}
[info] >        auth: [AuthImpl], {"user":"      auth: [AuthImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       auth: [AuthImpl],"}}
[info] >        stsTokenManager: [StsTokenManager], {"user":"      stsTokenManager: [StsTokenManager],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       stsTokenManager: [StsTokenManager],"}}
[info] >        accessToken: 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk5NjJmMDRmZWVkOTU0NWNlMjEzNGFiNTRjZWVmNTgxYWYyNGJhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20va290YW5pcGF5LWFzc2Vzc21lbnQiLCJhdWQiOiJrb3RhbmlwYXktYXNzZXNzbWVudCIsImF1dGhfdGltZSI6MTY2NTIyOTM5NywidXNlcl9pZCI6IllLbjY1ajBsWTNOdUtQcDdjaDBzcjVBRURlaTIiLCJzdWIiOiJZS242NWowbFkzTnVLUHA3Y2gwc3I1QUVEZWkyIiwiaWF0IjoxNjY1MjI5Mzk3LCJleHAiOjE2NjUyMzI5OTcsImVtYWlsIjoiY29zbW9zYXBwaWFoMDI5QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJjb3Ntb3NhcHBpYWgwMjlAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifX0.WEmvSf8OdOrrapUgPopamM4V5XdyLFtywTA7EeYfz1d8mRf55wgrxsQfr0LwndbQ1PMMw7ESZRRltGbnmO6jf78LwXavN5J7A4Ij6m_cOrRC8dxhKAR7beDkxfQAHJuooMCQYO9JvALjAK2vPJtAtzJruf5dPAgoIRPyh03AcrSHOk-W-DUSOCkHflgoE_IqivEAZUtSLQNyaKgImu0J9vRPzRZZPLouT79YAfOVgZJBel0iN0J8gKQNf5M_KffDZNswsmLbGuwPUn6sVRvwTf3OIGt3HOzg1mfJLnspMTxbBNjOsTY7PGn8vbepo0Ow3hLx2jJ7KfKdsK6qGhvcuw', {"user":"      accessToken: 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk5NjJmMDRmZWVkOTU0NWNlMjEzNGFiNTRjZWVmNTgxYWYyNGJhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20va290YW5pcGF5LWFzc2Vzc21lbnQiLCJhdWQiOiJrb3RhbmlwYXktYXNzZXNzbWVudCIsImF1dGhfdGltZSI6MTY2NTIyOTM5NywidXNlcl9pZCI6IllLbjY1ajBsWTNOdUtQcDdjaDBzcjVBRURlaTIiLCJzdWIiOiJZS242NWowbFkzTnVLUHA3Y2gwc3I1QUVEZWkyIiwiaWF0IjoxNjY1MjI5Mzk3LCJleHAiOjE2NjUyMzI5OTcsImVtYWlsIjoiY29zbW9zYXBwaWFoMDI5QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJjb3Ntb3NhcHBpYWgwMjlAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifX0.WEmvSf8OdOrrapUgPopamM4V5XdyLFtywTA7EeYfz1d8mRf55wgrxsQfr0LwndbQ1PMMw7ESZRRltGbnmO6jf78LwXavN5J7A4Ij6m_cOrRC8dxhKAR7beDkxfQAHJuooMCQYO9JvALjAK2vPJtAtzJruf5dPAgoIRPyh03AcrSHOk-W-DUSOCkHflgoE_IqivEAZUtSLQNyaKgImu0J9vRPzRZZPLouT79YAfOVgZJBel0iN0J8gKQNf5M_KffDZNswsmLbGuwPUn6sVRvwTf3OIGt3HOzg1mfJLnspMTxbBNjOsTY7PGn8vbepo0Ow3hLx2jJ7KfKdsK6qGhvcuw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       accessToken: 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk5NjJmMDRmZWVkOTU0NWNlMjEzNGFiNTRjZWVmNTgxYWYyNGJhZmYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20va290YW5pcGF5LWFzc2Vzc21lbnQiLCJhdWQiOiJrb3RhbmlwYXktYXNzZXNzbWVudCIsImF1dGhfdGltZSI6MTY2NTIyOTM5NywidXNlcl9pZCI6IllLbjY1ajBsWTNOdUtQcDdjaDBzcjVBRURlaTIiLCJzdWIiOiJZS242NWowbFkzTnVLUHA3Y2gwc3I1QUVEZWkyIiwiaWF0IjoxNjY1MjI5Mzk3LCJleHAiOjE2NjUyMzI5OTcsImVtYWlsIjoiY29zbW9zYXBwaWFoMDI5QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJlbWFpbCI6WyJjb3Ntb3NhcHBpYWgwMjlAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifX0.WEmvSf8OdOrrapUgPopamM4V5XdyLFtywTA7EeYfz1d8mRf55wgrxsQfr0LwndbQ1PMMw7ESZRRltGbnmO6jf78LwXavN5J7A4Ij6m_cOrRC8dxhKAR7beDkxfQAHJuooMCQYO9JvALjAK2vPJtAtzJruf5dPAgoIRPyh03AcrSHOk-W-DUSOCkHflgoE_IqivEAZUtSLQNyaKgImu0J9vRPzRZZPLouT79YAfOVgZJBel0iN0J8gKQNf5M_KffDZNswsmLbGuwPUn6sVRvwTf3OIGt3HOzg1mfJLnspMTxbBNjOsTY7PGn8vbepo0Ow3hLx2jJ7KfKdsK6qGhvcuw',"}}
[info] >        displayName: null, {"user":"      displayName: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       displayName: null,"}}
[info] >        email: 'cosmosappiah029@gmail.com', {"user":"      email: 'cosmosappiah029@gmail.com',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       email: 'cosmosappiah029@gmail.com',"}}
[info] >        emailVerified: false, {"user":"      emailVerified: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       emailVerified: false,"}}
[info] >        phoneNumber: null, {"user":"      phoneNumber: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       phoneNumber: null,"}}
[info] >        photoURL: null, {"user":"      photoURL: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       photoURL: null,"}}
[info] >        isAnonymous: false, {"user":"      isAnonymous: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       isAnonymous: false,"}}
[info] >        tenantId: null, {"user":"      tenantId: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       tenantId: null,"}}
[info] >        providerData: [Array], {"user":"      providerData: [Array],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       providerData: [Array],"}}
[info] >        metadata: [UserMetadata] {"user":"      metadata: [UserMetadata]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       metadata: [UserMetadata]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      multiFactor: MultiFactorUserImpl { user: [UserImpl], enrolledFactors: [] } {"user":"    multiFactor: MultiFactorUserImpl { user: [UserImpl], enrolledFactors: [] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     multiFactor: MultiFactorUserImpl { user: [UserImpl], enrolledFactors: [] }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:43:13.479Z] [worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: IDLE"}}
[debug] [2022-10-08T11:43:13.479Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api_v2" in 1607.768125ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Finished \"api_v2\" in 1607.768125ms"}}
[debug] [2022-10-08T11:44:58.919Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:45:00.001Z] Validating nodejs source
[debug] [2022-10-08T11:45:01.837Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:45:01.840Z] Building nodejs source
[debug] [2022-10-08T11:45:01.840Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:45:01.861Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:45:02.260Z] Serving at port 9005

[debug] [2022-10-08T11:45:02.749Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:45:02.755Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:45:02.765Z] [worker-pool] Shutting down IDLE worker (us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api_v2)"}}
[debug] [2022-10-08T11:45:02.765Z] [worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: FINISHING"}}
[debug] [2022-10-08T11:45:02.780Z] [worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: exited"}}
[debug] [2022-10-08T11:45:02.780Z] [worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1bfc5fff-02e4-434f-9d11-1ffb37d785d2]: FINISHED"}}
[debug] [2022-10-08T11:45:15.677Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:45:16.681Z] Validating nodejs source
[debug] [2022-10-08T11:45:18.059Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:45:18.060Z] Building nodejs source
[debug] [2022-10-08T11:45:18.060Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:45:18.061Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:45:18.166Z] Serving at port 9005

[debug] [2022-10-08T11:45:18.400Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:45:18.404Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:45:45.294Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:45:46.300Z] Validating nodejs source
[debug] [2022-10-08T11:45:47.673Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:45:47.673Z] Building nodejs source
[debug] [2022-10-08T11:45:47.673Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:45:47.674Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:45:47.782Z] Serving at port 9005

[debug] [2022-10-08T11:45:47.877Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:45:47.879Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:45:53.310Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:45:54.314Z] Validating nodejs source
[debug] [2022-10-08T11:45:55.825Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:45:55.825Z] Building nodejs source
[debug] [2022-10-08T11:45:55.825Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:45:55.826Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:45:55.935Z] Serving at port 9005

[debug] [2022-10-08T11:45:56.041Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:45:56.043Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:46:07.206Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:46:08.210Z] Validating nodejs source
[debug] [2022-10-08T11:46:09.582Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:46:09.584Z] Building nodejs source
[debug] [2022-10-08T11:46:09.584Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:46:09.587Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:46:09.955Z] Serving at port 9005

[debug] [2022-10-08T11:46:10.545Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:46:10.552Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:46:35.776Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:46:36.785Z] Validating nodejs source
[debug] [2022-10-08T11:46:38.190Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:46:38.191Z] Building nodejs source
[debug] [2022-10-08T11:46:38.191Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:46:38.192Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:46:38.298Z] Serving at port 9005

[debug] [2022-10-08T11:46:38.418Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:46:38.420Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:47:20.323Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:47:21.330Z] Validating nodejs source
[debug] [2022-10-08T11:47:23.196Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:47:23.197Z] Building nodejs source
[debug] [2022-10-08T11:47:23.197Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:47:23.198Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:47:23.357Z] Serving at port 9005

[debug] [2022-10-08T11:47:23.458Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:47:23.460Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:47:37.901Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:47:38.905Z] Validating nodejs source
[debug] [2022-10-08T11:47:40.295Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:47:40.295Z] Building nodejs source
[debug] [2022-10-08T11:47:40.296Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:47:40.297Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:47:40.398Z] Serving at port 9005

[debug] [2022-10-08T11:47:40.495Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:47:40.497Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:47:49.480Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:47:50.512Z] Validating nodejs source
[debug] [2022-10-08T11:47:51.861Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:47:51.862Z] Building nodejs source
[debug] [2022-10-08T11:47:51.862Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:47:51.863Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:47:51.980Z] Serving at port 9005

[debug] [2022-10-08T11:47:52.080Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:47:52.083Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:06.703Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:07.709Z] Validating nodejs source
[debug] [2022-10-08T11:48:08.995Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:08.995Z] Building nodejs source
[debug] [2022-10-08T11:48:08.995Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:08.995Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:09.097Z] Serving at port 9005

[debug] [2022-10-08T11:48:09.195Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:09.199Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:18.987Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:19.992Z] Validating nodejs source
[debug] [2022-10-08T11:48:21.330Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:21.330Z] Building nodejs source
[debug] [2022-10-08T11:48:21.330Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:21.331Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:21.331Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:21.435Z] Serving at port 9005

[debug] [2022-10-08T11:48:21.532Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:21.534Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:22.333Z] Validating nodejs source
[debug] [2022-10-08T11:48:23.623Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:23.624Z] Building nodejs source
[debug] [2022-10-08T11:48:23.624Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:23.624Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:23.724Z] Serving at port 9005

[debug] [2022-10-08T11:48:23.819Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:23.823Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:46.532Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:47.535Z] Validating nodejs source
[debug] [2022-10-08T11:48:48.843Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:48.844Z] Building nodejs source
[debug] [2022-10-08T11:48:48.844Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:48.844Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:48.949Z] Serving at port 9005

[debug] [2022-10-08T11:48:49.055Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:49.057Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:51.380Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:52.382Z] Validating nodejs source
[debug] [2022-10-08T11:48:53.807Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:53.808Z] Building nodejs source
[debug] [2022-10-08T11:48:53.808Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:53.814Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:54.011Z] Serving at port 9005

[debug] [2022-10-08T11:48:54.110Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:54.112Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:48:56.402Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:48:57.458Z] Validating nodejs source
[debug] [2022-10-08T11:48:58.998Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:48:58.999Z] Building nodejs source
[debug] [2022-10-08T11:48:58.999Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:48:59.000Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:48:59.084Z] Serving at port 9005

[debug] [2022-10-08T11:48:59.167Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:48:59.169Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:49:32.167Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:49:32.167Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:49:32.168Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:49:32.176Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:49:32.178Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:49:32.178Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:49:32.187Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:49:32.187Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:49:32.807Z] [runtime-status] [56543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.807Z] [runtime-status] [56543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.807Z] [runtime-status] [56543] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:49:32.808Z] [runtime-status] [56543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.831Z] [runtime-status] [56543] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:49:32.831Z] [runtime-status] [56543] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:49:32.831Z] [runtime-status] [56543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.831Z] [runtime-status] [56543] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.831Z] [runtime-status] [56543] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:49:32.832Z] [runtime-status] [56543] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:49:32.959Z] [runtime-status] [56543] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:49:32.959Z] [runtime-status] [56543] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_eb9111df6a17b3c2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56543] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_eb9111df6a17b3c2.sock"}}
[debug] [2022-10-08T11:49:33.001Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:49:33.002Z] [worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  [2022-10-08T11:49:35.415Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions. {"user":"[2022-10-08T11:49:35.415Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [2022-10-08T11:49:35.415Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions."}}
[info] >  node:internal/process/promises:279 {"user":"node:internal/process/promises:279","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/process/promises:279"}}
[info] >              triggerUncaughtException(err, true /* fromPromise */); {"user":"            triggerUncaughtException(err, true /* fromPromise */);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             triggerUncaughtException(err, true /* fromPromise */);"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] { {"user":"[FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {"}}
[info] >    code: 'permission-denied', {"user":"  code: 'permission-denied',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'permission-denied',"}}
[info] >    customData: undefined, {"user":"  customData: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: undefined,"}}
[info] >    toString: [Function (anonymous)] {"user":"  toString: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   toString: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:49:35.446Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:49:35.448Z] [worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: exited"}}
[debug] [2022-10-08T11:49:35.450Z] [worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-d7c842a9-61b0-4330-b763-fd86c1ef8f94]: FINISHED"}}
[debug] [2022-10-08T11:49:54.837Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:49:55.845Z] Validating nodejs source
[debug] [2022-10-08T11:50:03.727Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:50:03.727Z] Building nodejs source
[debug] [2022-10-08T11:50:03.727Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:50:03.728Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:50:03.734Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:50:03.735Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:50:03.735Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:50:03.736Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:50:03.737Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:50:03.737Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:50:03.740Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:50:03.740Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:50:03.847Z] Serving at port 9005

[debug] [2022-10-08T11:50:03.962Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:50:03.964Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:50:03.967Z] [worker-pool] Shutting down IDLE worker (us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api_v2)"}}
[debug] [2022-10-08T11:50:03.967Z] [worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: FINISHING"}}
[debug] [2022-10-08T11:50:03.969Z] [worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: exited"}}
[debug] [2022-10-08T11:50:03.969Z] [worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e597e885-e435-4dad-9095-7d19fa19a21c]: FINISHED"}}
[debug] [2022-10-08T11:50:12.101Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-10-08T11:50:12.102Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-10-08T11:50:12.102Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:50:12.108Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:50:12.108Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:50:12.108Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:50:12.113Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:50:12.113Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:50:12.784Z] [runtime-status] [56573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.785Z] [runtime-status] [56573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.785Z] [runtime-status] [56573] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:50:12.785Z] [runtime-status] [56573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.810Z] [runtime-status] [56573] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:50:12.810Z] [runtime-status] [56573] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:50:12.810Z] [runtime-status] [56573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.811Z] [runtime-status] [56573] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.811Z] [runtime-status] [56573] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:50:12.811Z] [runtime-status] [56573] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:50:12.960Z] [runtime-status] [56573] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:50:12.960Z] [runtime-status] [56573] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_46fca8632cd28fa1.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56573] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_46fca8632cd28fa1.sock"}}
[debug] [2022-10-08T11:50:13.029Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:50:13.029Z] [worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  CollectionReference { {"user":"CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m CollectionReference {"}}
[info] >    firestore: Firestore { {"user":"  firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   firestore: Firestore {"}}
[info] >      _delegate: Firestore { {"user":"    _delegate: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _delegate: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"    _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >      INTERNAL: { delete: [Function: delete] }, {"user":"    INTERNAL: { delete: [Function: delete] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     INTERNAL: { delete: [Function: delete] },"}}
[info] >      _appCompat: FirebaseAppImpl { {"user":"    _appCompat: FirebaseAppImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _appCompat: FirebaseAppImpl {"}}
[info] >        _delegate: [FirebaseAppImpl], {"user":"      _delegate: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [FirebaseAppImpl],"}}
[info] >        firebase: [Object], {"user":"      firebase: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       firebase: [Object],"}}
[info] >        container: [ComponentContainer] {"user":"      container: [ComponentContainer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       container: [ComponentContainer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _delegate: CollectionReference { {"user":"  _delegate: CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _delegate: CollectionReference {"}}
[info] >      converter: null, {"user":"    converter: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     converter: null,"}}
[info] >      _query: QueryImpl { {"user":"    _query: QueryImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _query: QueryImpl {"}}
[info] >        path: [ResourcePath], {"user":"      path: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       path: [ResourcePath],"}}
[info] >        collectionGroup: null, {"user":"      collectionGroup: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionGroup: null,"}}
[info] >        explicitOrderBy: [], {"user":"      explicitOrderBy: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       explicitOrderBy: [],"}}
[info] >        filters: [], {"user":"      filters: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [],"}}
[info] >        limit: null, {"user":"      limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: null,"}}
[info] >        limitType: 'F', {"user":"      limitType: 'F',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: 'F',"}}
[info] >        startAt: null, {"user":"      startAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: null,"}}
[info] >        endAt: null, {"user":"      endAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: null,"}}
[info] >        memoizedOrderBy: null, {"user":"      memoizedOrderBy: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedOrderBy: null,"}}
[info] >        memoizedTarget: null {"user":"      memoizedTarget: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedTarget: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      type: 'collection', {"user":"    type: 'collection',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'collection',"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array], offset: 0, len: 1 } {"user":"    _path: ResourcePath { segments: [Array], offset: 0, len: 1 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array], offset: 0, len: 1 }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _userDataWriter: UserDataWriter { {"user":"  _userDataWriter: UserDataWriter {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _userDataWriter: UserDataWriter {"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _delegate: [Firestore], {"user":"      _delegate: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [Firestore],"}}
[info] >        _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"      _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >        INTERNAL: [Object], {"user":"      INTERNAL: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       INTERNAL: [Object],"}}
[info] >        _appCompat: [FirebaseAppImpl] {"user":"      _appCompat: [FirebaseAppImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCompat: [FirebaseAppImpl]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507 {"user":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507"}}
[info] >          return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams)); {"user":"        return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams));","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         return (_a = authOrCode._errorFactory).create.apply(_a, tslib.__spreadArray([code], fullParams));"}}
[info] >                                                        ^ {"user":"                                                      ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m                                                       ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  FirebaseError: Firebase: The email address is already in use by another account. (auth/email-already-in-use). {"user":"FirebaseError: Firebase: The email address is already in use by another account. (auth/email-already-in-use).","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m FirebaseError: Firebase: The email address is already in use by another account. (auth/email-already-in-use)."}}
[info] >      at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55) {"user":"    at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at createErrorInternal (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:507:55)"}}
[info] >      at _createError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:485:32) {"user":"    at _createError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:485:32)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _createError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:485:32)"}}
[info] >      at _makeTaggedError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1114:17) {"user":"    at _makeTaggedError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1114:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at _makeTaggedError (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1114:17)"}}
[info] >      at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1030:35 {"user":"    at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1030:35","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/@firebase/auth/dist/node/index-a8f81288.js:1030:35"}}
[info] >      at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27) {"user":"    at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at step (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:144:27)"}}
[info] >      at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57) {"user":"    at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Object.next (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:125:57)"}}
[info] >      at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62) {"user":"    at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at fulfilled (/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/tslib/tslib.js:115:62)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:96:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:96:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:96:5) {"}}
[info] >    code: 'auth/email-already-in-use', {"user":"  code: 'auth/email-already-in-use',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'auth/email-already-in-use',"}}
[info] >    customData: { {"user":"  customData: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: {"}}
[info] >      appName: '[DEFAULT]', {"user":"    appName: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     appName: '[DEFAULT]',"}}
[info] >      _tokenResponse: { {"user":"    _tokenResponse: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _tokenResponse: {"}}
[info] >        error: { {"user":"      error: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       error: {"}}
[info] >          code: 400, {"user":"        code: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         code: 400,"}}
[info] >          message: 'EMAIL_EXISTS', {"user":"        message: 'EMAIL_EXISTS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         message: 'EMAIL_EXISTS',"}}
[info] >          errors: [ {"user":"        errors: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         errors: ["}}
[info] >            { {"user":"          {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m           {"}}
[info] >              message: 'EMAIL_EXISTS', {"user":"            message: 'EMAIL_EXISTS',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             message: 'EMAIL_EXISTS',"}}
[info] >              domain: 'global', {"user":"            domain: 'global',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             domain: 'global',"}}
[info] >              reason: 'invalid' {"user":"            reason: 'invalid'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             reason: 'invalid'"}}
[info] >            } {"user":"          }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m           }"}}
[info] >          ] {"user":"        ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m         ]"}}
[info] >        } {"user":"      }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       }"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:50:13.971Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:50:13.971Z] [worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: exited"}}
[debug] [2022-10-08T11:50:13.971Z] [worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-b6f1e035-f6f0-4ce5-b79e-3fd5e108941a]: FINISHED"}}
[debug] FirebaseError: Failed to load function.
    at Timeout._onTimeout (/Users/cosmos/.config/yarn/global/node_modules/firebase-tools/lib/emulator/functionsRuntimeWorker.js:152:24)
    at listOnTimeout (node:internal/timers:559:17)
    at processTimers (node:internal/timers:502:7) {"metadata":{"emulator":{"name":"functions"},"message":{"name":"FirebaseError","children":[],"exit":1,"message":"Failed to load function.","status":500}}}
[debug] [2022-10-08T11:50:33.828Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:51:05.811Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:51:06.817Z] Validating nodejs source
[debug] [2022-10-08T11:51:08.306Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:51:08.306Z] Building nodejs source
[debug] [2022-10-08T11:51:08.306Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:51:08.307Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:51:08.412Z] Serving at port 9005

[debug] [2022-10-08T11:51:08.516Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:51:08.518Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:51:10.180Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:51:10.181Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:51:10.181Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:51:10.187Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:51:10.188Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:51:10.188Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:51:10.197Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:51:10.198Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:51:10.824Z] [runtime-status] [56605] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.824Z] [runtime-status] [56605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.824Z] [runtime-status] [56605] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:51:10.824Z] [runtime-status] [56605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.842Z] [runtime-status] [56605] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:51:10.842Z] [runtime-status] [56605] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:51:10.843Z] [runtime-status] [56605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.843Z] [runtime-status] [56605] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.843Z] [runtime-status] [56605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:51:10.843Z] [runtime-status] [56605] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:51:10.925Z] [runtime-status] [56605] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:51:10.925Z] [runtime-status] [56605] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_ea577bfeb53713c4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56605] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_ea577bfeb53713c4.sock"}}
[debug] [2022-10-08T11:51:11.016Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:51:11.016Z] [worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  CollectionReference { {"user":"CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m CollectionReference {"}}
[info] >    firestore: Firestore { {"user":"  firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   firestore: Firestore {"}}
[info] >      _delegate: Firestore { {"user":"    _delegate: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _delegate: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"    _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >      INTERNAL: { delete: [Function: delete] }, {"user":"    INTERNAL: { delete: [Function: delete] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     INTERNAL: { delete: [Function: delete] },"}}
[info] >      _appCompat: FirebaseAppImpl { {"user":"    _appCompat: FirebaseAppImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _appCompat: FirebaseAppImpl {"}}
[info] >        _delegate: [FirebaseAppImpl], {"user":"      _delegate: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [FirebaseAppImpl],"}}
[info] >        firebase: [Object], {"user":"      firebase: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       firebase: [Object],"}}
[info] >        container: [ComponentContainer] {"user":"      container: [ComponentContainer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       container: [ComponentContainer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _delegate: CollectionReference { {"user":"  _delegate: CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _delegate: CollectionReference {"}}
[info] >      converter: null, {"user":"    converter: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     converter: null,"}}
[info] >      _query: QueryImpl { {"user":"    _query: QueryImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _query: QueryImpl {"}}
[info] >        path: [ResourcePath], {"user":"      path: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       path: [ResourcePath],"}}
[info] >        collectionGroup: null, {"user":"      collectionGroup: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionGroup: null,"}}
[info] >        explicitOrderBy: [], {"user":"      explicitOrderBy: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       explicitOrderBy: [],"}}
[info] >        filters: [], {"user":"      filters: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [],"}}
[info] >        limit: null, {"user":"      limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: null,"}}
[info] >        limitType: 'F', {"user":"      limitType: 'F',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: 'F',"}}
[info] >        startAt: null, {"user":"      startAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: null,"}}
[info] >        endAt: null, {"user":"      endAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: null,"}}
[info] >        memoizedOrderBy: null, {"user":"      memoizedOrderBy: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedOrderBy: null,"}}
[info] >        memoizedTarget: null {"user":"      memoizedTarget: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedTarget: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      type: 'collection', {"user":"    type: 'collection',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'collection',"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array], offset: 0, len: 1 } {"user":"    _path: ResourcePath { segments: [Array], offset: 0, len: 1 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array], offset: 0, len: 1 }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _userDataWriter: UserDataWriter { {"user":"  _userDataWriter: UserDataWriter {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _userDataWriter: UserDataWriter {"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _delegate: [Firestore], {"user":"      _delegate: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [Firestore],"}}
[info] >        _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"      _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >        INTERNAL: [Object], {"user":"      INTERNAL: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       INTERNAL: [Object],"}}
[info] >        _appCompat: [FirebaseAppImpl] {"user":"      _appCompat: [FirebaseAppImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCompat: [FirebaseAppImpl]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    id: 'b6ciumvcszQ8aHwqYU0jZOb1kQa2', {"user":"  id: 'b6ciumvcszQ8aHwqYU0jZOb1kQa2',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   id: 'b6ciumvcszQ8aHwqYU0jZOb1kQa2',"}}
[info] >    dateOfBirth: '2002-02-27', {"user":"  dateOfBirth: '2002-02-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   dateOfBirth: '2002-02-27',"}}
[info] >    idNumber: '2249539535', {"user":"  idNumber: '2249539535',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   idNumber: '2249539535',"}}
[info] >    email: 'cosmosappiah029@gmail.com' {"user":"  email: 'cosmosappiah029@gmail.com'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   email: 'cosmosappiah029@gmail.com'"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  [2022-10-08T11:51:13.186Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions. {"user":"[2022-10-08T11:51:13.186Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [2022-10-08T11:51:13.186Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions."}}
[info] >  node:internal/process/promises:279 {"user":"node:internal/process/promises:279","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/process/promises:279"}}
[info] >              triggerUncaughtException(err, true /* fromPromise */); {"user":"            triggerUncaughtException(err, true /* fromPromise */);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             triggerUncaughtException(err, true /* fromPromise */);"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] { {"user":"[FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {"}}
[info] >    code: 'permission-denied', {"user":"  code: 'permission-denied',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'permission-denied',"}}
[info] >    customData: undefined, {"user":"  customData: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: undefined,"}}
[info] >    toString: [Function (anonymous)] {"user":"  toString: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   toString: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:51:13.207Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:51:13.207Z] [worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: exited"}}
[debug] [2022-10-08T11:51:13.208Z] [worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-410f1228-8001-4127-b53a-f0b541feb338]: FINISHED"}}
[debug] [2022-10-08T11:52:25.371Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:52:26.379Z] Validating nodejs source
[debug] [2022-10-08T11:52:27.658Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:52:27.658Z] Building nodejs source
[debug] [2022-10-08T11:52:27.658Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:52:27.659Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:52:27.756Z] Serving at port 9005

[debug] [2022-10-08T11:52:27.865Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:52:27.868Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:52:37.233Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:52:38.255Z] Validating nodejs source
[debug] [2022-10-08T11:52:39.555Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:52:39.556Z] Building nodejs source
[debug] [2022-10-08T11:52:39.556Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:52:39.557Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:52:39.681Z] Serving at port 9005

[debug] [2022-10-08T11:52:39.779Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:52:39.781Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:52:43.921Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:52:44.925Z] Validating nodejs source
[debug] [2022-10-08T11:52:46.199Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:52:46.200Z] Building nodejs source
[debug] [2022-10-08T11:52:46.200Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:52:46.201Z] File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/cosmos/Projects/kotani-pay-assessment/functions/index.js changed, reloading triggers"}}
[debug] [2022-10-08T11:52:46.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:52:46.350Z] Serving at port 9005

[debug] [2022-10-08T11:52:46.452Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:52:46.454Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:52:47.204Z] Validating nodejs source
[debug] [2022-10-08T11:52:48.421Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "express": "^4.18.1",
    "firebase": "^9.11.0",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-10-08T11:52:48.422Z] Building nodejs source
[debug] [2022-10-08T11:52:48.422Z] Analyzing nodejs backend spec
[debug] [2022-10-08T11:52:48.422Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-10-08T11:52:48.502Z] Serving at port 9005

[debug] [2022-10-08T11:52:48.582Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"helloWorld"},"api_v2":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"api_v2"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-10-08T11:52:48.585Z] shutdown requested via /__/quitquitquit

[info] ✔  functions: Loaded functions definitions from source: helloWorld, api_v2. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld, api_v2."}}
[debug] [2022-10-08T11:52:56.521Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:52:56.523Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:52:56.523Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/kyc/user/create --> us-central1-api_v2
[debug] [2022-10-08T11:52:56.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:52:56.531Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/kyc/user/create, mapping to path=/kyc/user/create"}}
[debug] [2022-10-08T11:52:56.531Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:52:56.539Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:52:56.540Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:52:57.163Z] [runtime-status] [56692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.163Z] [runtime-status] [56692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.163Z] [runtime-status] [56692] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:52:57.163Z] [runtime-status] [56692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.180Z] [runtime-status] [56692] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:52:57.181Z] [runtime-status] [56692] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:52:57.181Z] [runtime-status] [56692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.181Z] [runtime-status] [56692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.182Z] [runtime-status] [56692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:52:57.182Z] [runtime-status] [56692] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:52:57.270Z] [runtime-status] [56692] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:52:57.271Z] [runtime-status] [56692] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_248669c0d3ce7208.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56692] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_248669c0d3ce7208.sock"}}
[debug] [2022-10-08T11:52:57.355Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:52:57.355Z] [worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[info] >  CollectionReference { {"user":"CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m CollectionReference {"}}
[info] >    firestore: Firestore { {"user":"  firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   firestore: Firestore {"}}
[info] >      _delegate: Firestore { {"user":"    _delegate: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _delegate: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"    _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >      INTERNAL: { delete: [Function: delete] }, {"user":"    INTERNAL: { delete: [Function: delete] },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     INTERNAL: { delete: [Function: delete] },"}}
[info] >      _appCompat: FirebaseAppImpl { {"user":"    _appCompat: FirebaseAppImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _appCompat: FirebaseAppImpl {"}}
[info] >        _delegate: [FirebaseAppImpl], {"user":"      _delegate: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [FirebaseAppImpl],"}}
[info] >        firebase: [Object], {"user":"      firebase: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       firebase: [Object],"}}
[info] >        container: [ComponentContainer] {"user":"      container: [ComponentContainer]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       container: [ComponentContainer]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _delegate: CollectionReference { {"user":"  _delegate: CollectionReference {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _delegate: CollectionReference {"}}
[info] >      converter: null, {"user":"    converter: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     converter: null,"}}
[info] >      _query: QueryImpl { {"user":"    _query: QueryImpl {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _query: QueryImpl {"}}
[info] >        path: [ResourcePath], {"user":"      path: [ResourcePath],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       path: [ResourcePath],"}}
[info] >        collectionGroup: null, {"user":"      collectionGroup: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       collectionGroup: null,"}}
[info] >        explicitOrderBy: [], {"user":"      explicitOrderBy: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       explicitOrderBy: [],"}}
[info] >        filters: [], {"user":"      filters: [],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       filters: [],"}}
[info] >        limit: null, {"user":"      limit: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limit: null,"}}
[info] >        limitType: 'F', {"user":"      limitType: 'F',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       limitType: 'F',"}}
[info] >        startAt: null, {"user":"      startAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       startAt: null,"}}
[info] >        endAt: null, {"user":"      endAt: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       endAt: null,"}}
[info] >        memoizedOrderBy: null, {"user":"      memoizedOrderBy: null,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedOrderBy: null,"}}
[info] >        memoizedTarget: null {"user":"      memoizedTarget: null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       memoizedTarget: null"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      type: 'collection', {"user":"    type: 'collection',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     type: 'collection',"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _authCredentials: [FirebaseAuthCredentialsProvider], {"user":"      _authCredentials: [FirebaseAuthCredentialsProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _authCredentials: [FirebaseAuthCredentialsProvider],"}}
[info] >        _appCheckCredentials: [FirebaseAppCheckTokenProvider], {"user":"      _appCheckCredentials: [FirebaseAppCheckTokenProvider],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCheckCredentials: [FirebaseAppCheckTokenProvider],"}}
[info] >        _databaseId: [DatabaseId], {"user":"      _databaseId: [DatabaseId],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _databaseId: [DatabaseId],"}}
[info] >        _app: [FirebaseAppImpl], {"user":"      _app: [FirebaseAppImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _app: [FirebaseAppImpl],"}}
[info] >        type: 'firestore', {"user":"      type: 'firestore',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       type: 'firestore',"}}
[info] >        _persistenceKey: '[DEFAULT]', {"user":"      _persistenceKey: '[DEFAULT]',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceKey: '[DEFAULT]',"}}
[info] >        _settings: [FirestoreSettingsImpl], {"user":"      _settings: [FirestoreSettingsImpl],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settings: [FirestoreSettingsImpl],"}}
[info] >        _settingsFrozen: false, {"user":"      _settingsFrozen: false,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _settingsFrozen: false,"}}
[info] >        _queue: [AsyncQueueImpl] {"user":"      _queue: [AsyncQueueImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _queue: [AsyncQueueImpl]"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      _path: ResourcePath { segments: [Array], offset: 0, len: 1 } {"user":"    _path: ResourcePath { segments: [Array], offset: 0, len: 1 }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     _path: ResourcePath { segments: [Array], offset: 0, len: 1 }"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    _userDataWriter: UserDataWriter { {"user":"  _userDataWriter: UserDataWriter {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   _userDataWriter: UserDataWriter {"}}
[info] >      firestore: Firestore { {"user":"    firestore: Firestore {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     firestore: Firestore {"}}
[info] >        _delegate: [Firestore], {"user":"      _delegate: [Firestore],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _delegate: [Firestore],"}}
[info] >        _persistenceProvider: IndexedDbPersistenceProvider {}, {"user":"      _persistenceProvider: IndexedDbPersistenceProvider {},","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _persistenceProvider: IndexedDbPersistenceProvider {},"}}
[info] >        INTERNAL: [Object], {"user":"      INTERNAL: [Object],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       INTERNAL: [Object],"}}
[info] >        _appCompat: [FirebaseAppImpl] {"user":"      _appCompat: [FirebaseAppImpl]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m       _appCompat: [FirebaseAppImpl]"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[info] >  [2022-10-08T11:52:59.600Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions. {"user":"[2022-10-08T11:52:59.600Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [2022-10-08T11:52:59.600Z]  @firebase/firestore: Firestore (9.11.0): Connection GRPC stream error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions."}}
[info] >  node:internal/process/promises:279 {"user":"node:internal/process/promises:279","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m node:internal/process/promises:279"}}
[info] >              triggerUncaughtException(err, true /* fromPromise */); {"user":"            triggerUncaughtException(err, true /* fromPromise */);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             triggerUncaughtException(err, true /* fromPromise */);"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] { {"user":"[FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {"}}
[info] >    code: 'permission-denied', {"user":"  code: 'permission-denied',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 'permission-denied',"}}
[info] >    customData: undefined, {"user":"  customData: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   customData: undefined,"}}
[info] >    toString: [Function (anonymous)] {"user":"  toString: [Function (anonymous)]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m   toString: [Function (anonymous)]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2022-10-08T11:52:59.621Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-10-08T11:52:59.621Z] [worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: exited"}}
[debug] [2022-10-08T11:52:59.621Z] [worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-e81dcf8b-1257-4538-8ade-d82332e77af4]: FINISHED"}}
[debug] [2022-10-08T11:53:18.186Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:53:18.187Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:53:18.187Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/api/login --> us-central1-api_v2
[debug] [2022-10-08T11:53:18.192Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:53:18.192Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/api/login, mapping to path=/api/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/api/login, mapping to path=/api/login"}}
[debug] [2022-10-08T11:53:18.192Z] [worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api_v2: 1 --> 0"}}
[debug] [2022-10-08T11:53:18.199Z] [worker-pool] addWorker(us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api_v2)"}}
[debug] [2022-10-08T11:53:18.199Z] [worker-pool] Adding worker with key us-central1-api_v2, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api_v2, total=1"}}
[debug] [2022-10-08T11:53:18.733Z] [runtime-status] [56704] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.734Z] [runtime-status] [56704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.734Z] [runtime-status] [56704] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-10-08T11:53:18.734Z] [runtime-status] [56704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.756Z] [runtime-status] [56704] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-10-08T11:53:18.757Z] [runtime-status] [56704] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-10-08T11:53:18.758Z] [runtime-status] [56704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.758Z] [runtime-status] [56704] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.758Z] [runtime-status] [56704] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.24.1","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.24.1\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-10-08T11:53:18.758Z] [runtime-status] [56704] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.3.0","resolution":"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.3.0\",\"resolution\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-10-08T11:53:18.891Z] [runtime-status] [56704] Functions runtime initialized. {"cwd":"/Users/cosmos/Projects/kotani-pay-assessment/functions","node_version":"16.15.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Functions runtime initialized. {\"cwd\":\"/Users/cosmos/Projects/kotani-pay-assessment/functions\",\"node_version\":\"16.15.1\"}"}}
[debug] [2022-10-08T11:53:18.891Z] [runtime-status] [56704] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_304aec998bc265cf.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"[runtime-status] [56704] Listening to port: /var/folders/5g/2cv11pw95rj2r5kwtqg0zhgh0000gn/T/fire_emu_304aec998bc265cf.sock"}}
[debug] [2022-10-08T11:53:18.914Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:53:18.914Z] [worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: BUSY"}}
[debug] [2022-10-08T11:53:18.921Z] [worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: IDLE"}}
[debug] [2022-10-08T11:53:18.922Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  SyntaxError: Unexpected token } in JSON at position 74 {"user":"SyntaxError: Unexpected token } in JSON at position 74","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m SyntaxError: Unexpected token } in JSON at position 74"}}
[info] >      at JSON.parse (<anonymous>) {"user":"    at JSON.parse (<anonymous>)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at JSON.parse (<anonymous>)"}}
[info] >      at parse (/Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19) {"user":"    at parse (/Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at parse (/Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/types/json.js:89:19)"}}
[info] >      at /Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:128:18 {"user":"    at /Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:128:18","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/cosmos/.config/yarn/global/node_modules/firebase-tools/node_modules/body-parser/lib/read.js:128:18"}}
[info] >      at AsyncResource.runInAsyncScope (node:async_hooks:202:9) {"user":"    at AsyncResource.runInAsyncScope (node:async_hooks:202:9)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at AsyncResource.runInAsyncScope (node:async_hooks:202:9)"}}
[info] >      at invokeCallback (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:231:16) {"user":"    at invokeCallback (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:231:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at invokeCallback (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:231:16)"}}
[info] >      at done (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:220:7) {"user":"    at done (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:220:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at done (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:220:7)"}}
[info] >      at IncomingMessage.onEnd (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:280:7) {"user":"    at IncomingMessage.onEnd (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:280:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.onEnd (/Users/cosmos/.config/yarn/global/node_modules/raw-body/index.js:280:7)"}}
[info] >      at IncomingMessage.emit (node:events:539:35) {"user":"    at IncomingMessage.emit (node:events:539:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:539:35)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1345:12) {"user":"    at endReadableNT (node:internal/streams/readable:1345:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1345:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:83:21) {"user":"    at processTicksAndRejections (node:internal/process/task_queues:83:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:83:21)"}}
[debug] [2022-10-08T11:53:28.062Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-10-08T11:53:28.064Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-10-08T11:53:28.064Z] Accepted request POST /kotanipay-assessment/us-central1/api_v2/api/login --> us-central1-api_v2
[debug] [2022-10-08T11:53:28.070Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-10-08T11:53:28.070Z] [functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/api/login, mapping to path=/api/login {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/kotanipay-assessment/us-central1/api_v2/api/login, mapping to path=/api/login"}}
[debug] [2022-10-08T11:53:28.071Z] [worker-pool] submitRequest(triggerId=us-central1-api_v2) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api_v2)"}}
[debug] [2022-10-08T11:53:28.071Z] [worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: BUSY"}}
[info] i  functions: Beginning execution of "api_v2" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Beginning execution of \"api_v2\""}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[warn] ⚠  Google API requested!
   - URL: "https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s"
   - Be careful, this may be a production service. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Google API requested!\n   - URL: \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyAYyxIgmv4UT86KTzuaXURl12KC6Q7HS5s\"\n   - Be careful, this may be a production service."}}
[debug] [2022-10-08T11:53:29.211Z] [worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api_v2-1eb2f855-2f02-4790-8b66-4c7600827ef5]: IDLE"}}
[debug] [2022-10-08T11:53:29.211Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] i  functions: Finished "api_v2" in 1135.191ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api_v2"},"extension":{},"message":"Finished \"api_v2\" in 1135.191ms"}}
